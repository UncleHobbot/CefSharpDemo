var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),Dialog;define("Core/Html",["require","exports"],function(n,t){"use strict";var i,r;Object.defineProperty(t,"__esModule",{value:!0});i=function(){function n(){}return n}();t.AbstractHtmlRenderer=i;r=function(n){function t(){var t=n.call(this)||this;return t.Env=new nunjucks.Environment,t.Env.addFilter("i18n",function(n){return bridge.Loc(n)}),window.appHtml=t,t}return __extends(t,n),t.prototype.Render=function(n,t){return $.trim(this.Env.renderString(n,t))},t}(i);t.Nunjucks=r});define("Application",["require","exports","Core/Html"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(){}return n}();r.DefaultRenderEngine=new i.Nunjucks;t.App=r});Dialog=function(){function n(){}return n.showConfirm=function(n,t){var r=$.Deferred(),u='<!-- Modal -->\n<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close close-btn" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;<\/span><\/button>\n        <h4 class="modal-title" id="myModalLabel">'+n+'<\/h4>\n      <\/div>\n      <div class="modal-body">\n        '+t+'\n      <\/div>\n      <div class="modal-footer">\n        <a type="button" class="btn btn-default close-btn no-btn" data-dismiss="modal" href="#">'+bridge.Loc("No")+'<\/a>\n        <a type="button" class="btn btn-danger yes-btn" href="#">'+bridge.Loc("Yes")+"<\/a>\n      <\/div>\n    <\/div>\n  <\/div>\n<\/div>",i=$(u);$(document.body).append(i);i.find(".close-btn").click(function(){i.modal("hide");r.reject()});i.find(".yes-btn").click(function(){i.modal("hide");r.resolve()});i.on("hide.bs.modal",function(){i.remove();$(".modal-backdrop").remove()});i.on("shown.bs.modal",function(){i.find(".no-btn").focus()});return i.modal({keyboard:!0}),r},n.showMessage=function(n,t){var r=$.Deferred(),u='<!-- Modal -->\n<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close close-btn" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;<\/span><\/button>\n        <h4 class="modal-title" id="myModalLabel">'+n+'<\/h4>\n      <\/div>\n      <div class="modal-body">\n        '+t+'\n      <\/div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-primary yes-btn">'+bridge.Loc("Yes")+"<\/button>\n      <\/div>\n    <\/div>\n  <\/div>\n<\/div>",i=$(u);$(document.body).append(i);i.find(".close-btn").click(function(){i.modal("hide");r.resolve()});i.find(".yes-btn").click(function(){i.modal("hide");r.resolve()});i.on("hide.bs.modal",function(){i.remove();$(".modal-backdrop").remove()});return i.find(".no-btn").focus(),i.modal({keyboard:!0}),r},n}();define("Core/Layouts",["require","exports","core/control","Application"],function(n,t,i,r){"use strict";var u,f;Object.defineProperty(t,"__esModule",{value:!0});u=function(n){function t(t){var i=n.call(this,t)||this;return(typeof t.BreakOnTabletMobile=="undefined"||t.Type===null)&&(t.BreakOnTabletMobile=!0),i.Template=' <div serverId=\'{{ServerId}}\' {% if IsBorder %} class="row-container row row-eq-height Borders" {% else %} class="row-container row row-eq-height " {% endif %} style=\'border-color:{{BorderColor}}\'  draggable="true"><\/div>',i}return __extends(t,n),t.prototype.HtmlRender=function(){var n=r.App.DefaultRenderEngine.Render(this.Template,this.Properties),t;return this.Element===null?this.Element=jQuery(n):(t=jQuery(n),t.insertAfter(this.Element),this.Element.remove(),this.Element=t),n},t}(i.BaseControl);t.Row=u;f=function(n){function t(t){var i=n.call(this,t)||this;return i.Template="<div serverId='{{ServerId}}' {% if IsBorder %} class='col-xs-{{Width}} col-sm-{{Width}} Borders col-md-{{Width}} col-lg-{{Width}} col drop-zone' style='border-color:{{ColorRgba}}; background-color:{{BackgroundColorRgba}}' {% else %}  class='col-xs-{{Width}} col-sm-{{Width}}  col-md-{{Width}} col-lg-{{Width}} col drop-zone' style='background-color: {{BackgroundColorRgba}}'  {% endif %} ><\/div>",i}return __extends(t,n),t}(i.BaseControl);t.Column=f});define("Core/Controls/RayTabControl",["require","exports","core/control","Application"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(t){var i=n.call(this,t)||this;return i._lastAcitveTabIndex=-1,i.Template="<div class=\"tab-control-container\">\n\t\t<ul>\n            {% for tab in TabPages %}\n\t\t\t<li tabname='{{tab.Name}}' class='{% if IsSelected %}active{%endif%}'>{{tab.Caption}}<\/li>\n            {% endfor %}\n\t\t<\/ul>\n\t\t<div style=\"clear:both\"><\/div>\n\t<\/div>",i}return __extends(t,n),t.prototype.initEvents=function(){var n=this;jQuery("ul li",this.Element).off("").on("click",function(){var t=jQuery(this),r=t.attr("tabname"),i=jQuery("div.tabpage[serverid="+r+"]");jQuery("li",t.parent()).removeClass("active");i.parent().children("div.tabpage").removeClass("active");t.addClass("active");i.addClass("active");n._lastAcitveTabIndex=t.index();bridge.RequestSelectTab(t.attr("tabname"))})},t.prototype.HtmlRender=function(){var n=r.App.DefaultRenderEngine.Render(this.Template,this.Properties),t;return this.Element===null?this.Element=jQuery(n):(t=jQuery(n),t.insertAfter(this.Element),this.Element.remove(),this.Element=t),this.initEvents(),this.Element.find("li:eq("+(this._lastAcitveTabIndex==-1?0:this._lastAcitveTabIndex)+")").click(),this.Element.find("div.tabpage:eq("+(this._lastAcitveTabIndex==-1?0:this._lastAcitveTabIndex)+")").addClass("active"),n},t}(i.BaseControl);t.RayTabControl=u});define("Core/Controls/RayTabPage",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template="<div class=\"tabpage col drop-zone {% if IsSelected %}active{%endif%}\" ServerId='{{ServerId}}'><\/div>",i}return __extends(t,n),t}(i.BaseControl);t.RayTabPage=r});define("Core/Controls",["require","exports","core/control"],function(n,t,i){"use strict";var u,r,y,f,e,o,s,p,h,w,b,c,k,d,l,a,v;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.Single=0]="Single";n[n.Password=1]="Password";n[n.Multiline=2]="Multiline"}(u=t.TextMode||(t.TextMode={}));r=function(n){function t(t){var i=n.call(this,t)||this;return i.Properties.Placeholder===null&&(i.Properties.Placeholder=i.Properties.ServerId),i.Template='\n<div class="form-group control" data-type="textbox">\n    <label for="{{ServerId}}">{{Caption}}<\/label>\n    {% set _style = \'\' %}\n    {% if Align == 0 %} {% set _style = \'text-align:right;\' %} {% endif %}\n    {% if Align == 1 %} {% set _style = \'text-align:center;\'%} {% endif %}\n    {% if Align == 2 %} {% set _style = \'text-align:left;\' %} {% endif %}\n    {% set _isTextArea = (Mode == 2) %}\n    {% set _height = 40 if _height == 0 else _height %}\n    {% set _rows = 1 if Height < 10 else Height / 10 %}\n    {% if not _isTextArea %}\n    <input draggable=\'false\' type="{{"text" if Mode == 0 else "text"}}" style="{{_style}}" class="form-control primary-control" id="{{ServerId}}" placeholder="{{Placeholder}}">\n    {% else %}\n    <textarea draggable=\'false\' type="text" class="form-control primary-control" style="{{_style}}" rows="{{_rows}}" placeholder="{{Placeholder}}"><\/textarea>\n    {% endif %}\n<\/div>',i}return __extends(t,n),t.prototype.Input_OnEdit=function(){var n=this;this.Element.find(":input").focus(function(){var n=$(this);n.val(n.attr("placeholder"));n.select()});this.Element.find(":input").keyup(function(t){var i=$(this);if(t.keyCode===13&&n.Properties.Mode!==u.Multiline){t.preventDefault();i.blur();return}i.attr("placeholder",i.val())});this.Element.find(":input").blur(function(){var t=$(this);n.Properties.Placeholder=t.val();n.OnChange&&n.OnChange&&n.OnChange(n.Properties.ServerId,"Placeholder",t.val());t.val("")});this.Element.find(":input").keydown(function(n){n.stopPropagation()});this.Element.find(":input").mouseup(function(t){var i=$(this);t.stopPropagation();n.Properties.Height=parseInt(i.css("height"));n.OnChange&&n.OnChange(n.Properties.ServerId,"Placeholder",i.val())})},t.prototype.HtmlRender=function(){var t=n.prototype.HtmlRender.call(this);return this.Input_OnEdit(),t},t}(i.BaseControl);t.RayTextBox=r,function(n){n[n.Right=0]="Right";n[n.Center=1]="Center";n[n.Left=2]="Left"}(y=t.TextAlign||(t.TextAlign={}));f=function(n){function t(t){var i=n.call(this,t)||this;return i.Template='<div class="form-group control" data-type="combobox" id="{{ServerId}}">\n            <label for="{{ServerId}}">{{Caption}}<\/label>\n            <select class="form-control primary-control" id="sel1" id="{{ServerId}}"><\/select>\n        <\/div>',i}return __extends(t,n),t}(i.BaseControl);t.RayDropDownList=f;e=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(r);t.RayNumericTextBox=e;o=function(n){function t(t){var i=n.call(this,t)||this;return i.Template="<div class='form-group'>\n\t<label for='{{ServerId}}'>{{Caption}}<\/label>\t\t\t\t\t\n\t<div class='input-group'>\n\t  <input type='text' class='form-control typeahead' draggable='false' placeholder='{{Placeholder}}'>\n\t  <span class='input-group-btn'>\n\t\t<button class='btn btn-default' type='button' id='btn1'>\n\t\t\t&nbsp;<i class=\"fad fa-chevron-down\"><\/i>\n\t\t<\/button>\n\t  <\/span>\n\t<\/div>\n\t<!-- /input-group -->\n<\/div>\t",i}return __extends(t,n),t.prototype.Input_OnEdit=function(){var n=this;this.Element.find(":input").focus(function(){var n=$(this);n.val(n.attr("placeholder"));n.select()});this.Element.find(":input").keyup(function(n){var t=$(this);if(n.keyCode===13){n.preventDefault();t.blur();return}t.attr("placeholder",t.val())});this.Element.find(":input").blur(function(){var t=$(this);n.Properties.Placeholder=t.val();n.OnChange&&n.OnChange&&n.OnChange(n.Properties.ServerId,"Placeholder",t.val());t.val("")});this.Element.find(":input").keydown(function(n){n.stopPropagation()});this.Element.find(":input").mouseup(function(t){var i=$(this);t.stopPropagation();n.OnChange&&n.OnChange(n.Properties.ServerId,"Placeholder",i.val())})},t.prototype.HtmlRender=function(){var t=n.prototype.HtmlRender.call(this);return this.Input_OnEdit(),t},t}(i.BaseControl);t.RayAutoCompleteDropDownList=o;s=function(n){function t(t){var i=n.call(this,t)||this;return i.Template='\n{% set text_Align = "left" %}\n{% set direction = "ltr" %}\n{% if CheckBoxAlign == 1 %}\n{% set text_Align = "right" %}\n{% set direction = "rtl" %}\n{% endif %}\n<div style="text-align:{{text_Align}};direction:{{direction}}">\n        <label><input type="checkbox" value=""><span class=\'caption\'> {{Caption}}<\/span><\/label>\n<\/div>',i}return __extends(t,n),t.prototype.HtmlRender=function(){var t=n.prototype.HtmlRender.call(this);return this.DisableCheck(),t},t.prototype.DisableCheck=function(){this.Element.find(":input:first").unbind("click change").bind("click change",function(n){n.preventDefault()})},t}(i.BaseControl);t.RayCheckBox=s,function(n){n[n.Right=0]="Right";n[n.Left=1]="Left"}(p=t.Align||(t.Align={}));h=function(n){function t(t){var i=n.call(this,t)||this;return i.Template='<div class="form-group control" data-type="combobox" id="{{ServerId}}">\n            <label for="{{ServerId}}">{{Caption}}<\/label> \n            <div class=\'co-md-12\'>\n            {% set rowNumber = Items.length // Columns %}\n            {% set i=0 %}\n            {% set col=12 // Columns %}\n\n            {% if RepeatDirection == 0 %}\n                {% for j in range(0,Columns) -%}\n                    <div class="col-md-{{col}}">\n                    {% for x in range(0,rowNumber+1) -%}\n                        {% if(Items.length>i) %}\n                            <div class="radio"><label><input type="radio" name="{{ServerId}}" {% if Items[i].Selected %} checked=\'checked\'{% endif %} {%if Items[i].Enabled == false%}disabled=\'disabled\'{%endif%} name="optradio">{{Items[i].Text}}<\/label><\/div>                \n                            {% set i=i+1 %}\n                        {% endif %}\n                    {%- endfor %}\n                    <\/div>\n                {%- endfor %}\n            {% else %}\n{% if Columns==1 %}\n{% set Columns=Items.length %}\n{% set col=12 // Items.length %}\n{% set rowNumber = 0 %}\n{% endif %}\n            {% for x in range(0,rowNumber+1) -%}\n                <div class="radio col-md-12">\n                {% for j in range(0,Columns) -%}\n                    {% if(Items.length>i) %}\n                        <div class="col-md-{{col}}">\n                                <label class="radio-inline"><input type="radio" name="{{ServerId}}" {% if Items[i].Selected %} checked=\'checked\'{% endif %} {%if Items[i].Enabled == false%}disabled=\'disabled\'{%endif%} name="optradio">{{Items[i].Text}}<\/label>\n                        <\/div>\n                        {% set i=i+1 %}\n                    {% endif %}\n                {%- endfor %}\n                <\/div>\n            {%- endfor %}\n            {% endif %}\n        <\/div><\/div>',i}return __extends(t,n),t.prototype.HtmlRender=function(){var t=n.prototype.HtmlRender.call(this);this.Element.on("click mousedown keypress",":input",function(n){n.preventDefault()});return t},t}(i.BaseControl);t.RayRadioButtonList=h,function(n){n[n.Vertical=0]="Vertical";n[n.Horizontal=1]="Horizontal"}(w=t.RepeatDirection||(t.RepeatDirection={})),function(n){n[n.Left=0]="Left";n[n.Right=1]="Right"}(b=t.RadioButtonAlign||(t.RadioButtonAlign={}));c=function(n){function t(t){var i=n.call(this,t)||this;return i.Template='<div class="form-group control" data-type="button" id="{{ServerId}}">\n            <label class="empty-label">{{Caption}}<\/label>\n            {% set _buttonStyle = "default" %}\n            {% set _buttonSize = "btn-md" %}\n\n            {% if Style == 1 %}\n            {% set _buttonStyle = "primary" %}\n            {% elif Style == 2 %}\n            {% set _buttonStyle = "success" %}\n            {% elif Style == 3 %}\n            {% set _buttonStyle = "info" %}\n            {% elif Style == 4 %}\n            {% set _buttonStyle = "warning" %}\n            {% elif Style == 5 %}\n            {% set _buttonStyle = "danger" %}\n            {% elif Style == 6 %}\n            {% set _buttonStyle = "link" %}\n            {% endif %}\n\n            {% if Size == 1 %}\n            {% set _buttonSize = "btn-lg" %}\n            {% elif Size == 2 %}\n            {% set _buttonSize = "btn-sm" %}\n            {% elif Size == 3 %}\n            {% set _buttonSize = "btn-xs" %}\n            {% endif %}\n\n            <button type="button" class="Button-NoWrap btn btn-{{_buttonStyle}} {{_buttonSize}} {% if IsBlock %}btn-block{% endif %} primary-control">{{Caption}}<\/button>\n        <\/div>',i}return __extends(t,n),t}(i.BaseControl);t.RayButton=c,function(n){n[n.Default=0]="Default";n[n.Primary=1]="Primary";n[n.Success=2]="Success";n[n.Info=3]="Info";n[n.Warning=4]="Warning";n[n.Danger=5]="Danger";n[n.Link=6]="Link"}(k=t.ButtonStyle||(t.ButtonStyle={})),function(n){n[n.Meduim=0]="Meduim";n[n.Large=1]="Large";n[n.Small=2]="Small";n[n.Tiny=3]="Tiny"}(d=t.ButtonSize||(t.ButtonSize={}));l=function(n){function t(t){var i=n.call(this,t)||this;return i.Template="{% set _style = '' %}\n{% if Align == 0 %} {% set _style = 'text-align:right;' %} {% endif %}\n{% if Align == 1 %} {% set _style = 'text-align:center;' %} {% endif %}\n{% if Align == 2 %} {% set _style = 'text-align:left;' %} {% endif %}\n<div class='col-sm-12' style='{{_style}}{{DesignerFontCss}}'>{{Caption|safe|nl2br}}<\/div>",i}return __extends(t,n),t}(i.BaseControl);t.RayLabel=l;a=function(n){function t(t){var i=n.call(this,t)||this;return i.Template="<hr />",i}return __extends(t,n),t}(i.BaseControl);t.RayLine=a;v=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(r);t.RayTime=v});define("Core/Controls/RayDatePicker",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template="<div class='form-group'>\n        <label for=\"{{ServerId}}\">{{Caption}}<\/label>\n\t<div class='input-group'>\n\t\t<input draggable='false' type='text' name='{{ServerId}}' class='form-control' placeholder='__/__/____'/>\n\t\t<div class='input-group-addon'>\n\t\t\t<i class=\"fad fa-calendar-alt\"><\/i>\n\t\t<\/div>\n\t<\/div>\n<\/div>",i}return __extends(t,n),t.prototype.HtmlRender=function(){var t=n.prototype.HtmlRender.call(this);return this.Element.find(":text").bind("input keypress keydown keyup focus",function(n){n.preventDefault()}),t},t}(i.BaseControl);t.RayDatePicker=r});define("Core/Controls/RayFileAttachment",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template="\n{%if MaxFileCount > 1 %}\n    <div class=\"col-sm-12 form-Group\" >\t\t\n        <label for='{{ServerId}}'>{{Caption}}<\/label>\t\n        <select class='form-control' size=\"4\" ><\/select>\n        <div class='col-sm-12' style='padding:0px'>\n\n            <button isr=true class='BtnAttachment btnUpload btn btn-primary attachment-menu-item' type='button' data-toggle='tooltip' title='{{'Add'|i18n}}'>\n                <i class='fad fa-lg fa-plus-square'><\/i> \n\t        <\/button>\n\n            <button isr=true class='BtnAttachment btnDownLoad btn btn-primary attachment-menu-item' type='button' data-toggle='tooltip' title='{{'Download'|i18n}}'>\n                <i class='fad fa-lg fa-download'><\/i> \n            <\/button> \n\n            <button isr=true class='BtnAttachment btnOpen btn btn-primary attachment-menu-item' type='button' data-toggle='tooltip' title='{{'Open'|i18n}}'>\n                <i class='fad fa-lg fa-external-link'><\/i>\n            <\/button>\n\n            <button isr=true class='BtnAttachment btnDelete btn btn-primary attachment-menu-item' type='button' data-toggle='tooltip' title='{{'Delete'|i18n}}'>\n                <i class='fad fa-lg fa-trash-alt'><\/i>\n\t\t    <\/button>\n\n            <button isr=true class='BtnAttachment btnDeleteAll btn btn-primary attachment-menu-item' type='button' data-toggle='tooltip' title='{{'Delete All'|i18n}}'>\n                <i class='fad fa-lg fa-trash'><\/i>\n            <\/button>\n\n        <\/div> \n        <input class='files' type='text' style='display: none'> <\/ input >\n    <\/div>\n{% else %} \n    <div  class=' col-sm-12 form-Group' style='padding:0px'>  \n        <label for='{{ServerId}}'>{{Caption}}<\/label>\t\n        <div class='form-control' style='height:36px; padding:0px' >\n            <input isr='true' type='button' value={{'File is not available'|i18n}} class='single-attachment-button btn btn-link' style='border:0px; font-size:12px;'> <\/input>\n\n            <div class='pull-right'>\n                <button isr=true class='BtnAttachment btnUploadSingle btn btn-primary attachment-menu-item ' type='button' data-toggle='tooltip' title='{{'Add'|i18n}}'>\n                    <i class='fad fa-lg fa-plus-square'><\/i>\n\t            <\/button>\n\n                <button isr=true class='BtnAttachment btnDelete btn btn-primary attachment-menu-item' type='button' data-toggle='tooltip' title='{{'Delete'|i18n}}'>\n                    <i class='fad fa-lg fa-trash-alt'><\/i>\n\t\t        <\/button>\n            <\/div>\n\n            <input type='file' class='file' style='display:none' /> \n        <\/div> \n    <\/div>\n{% endif %}",i}return __extends(t,n),t.prototype.HtmlRender=function(){return n.prototype.HtmlRender.call(this)},t}(i.BaseControl);t.RayFileAttachment=r});define("Core/Controls/RayDynamicImage",["require","exports","core/control"],function(n,t,i){"use strict";var r,u;Object.defineProperty(t,"__esModule",{value:!0});r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template="{% set _style = '' %}\n{% if Align == 0 %} {% set _style = 'pull-right' %} {% endif %}\n{% if Align == 1 %} {% set _style = 'center-image' %} {% endif %}\n{% if Align == 2 %} {% set _style = 'pull-left' %} {% endif %}\n<div class=\"col-sm-12\" >\n\t<img class=\"img-responsive {{_style}}\" src=\"{{ImageString}}\" draggable='false' >\n<\/div>",i}return __extends(t,n),t.prototype.HtmlRender=function(){return this.Properties.ImageString=bridge.RequestApplicationFileData(this.Properties.ImageItemId),n.prototype.HtmlRender.call(this)},t}(i.BaseControl);t.RayDynamicImage=r,function(n){n[n.Right=0]="Right";n[n.Center=1]="Center";n[n.Left=2]="Left"}(u=t.ImageAlign||(t.ImageAlign={}))});define("Core/Controls/RayImageViewer",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template=' \n<div class="col-sm-12 form-Group"> \n<div class=" imageViewerBackground" style=\'height:{{Height}}px\' />\n<\/div>',i}return __extends(t,n),t.prototype.HtmlRender=function(){return n.prototype.HtmlRender.call(this)},t}(i.BaseControl);t.RayImageViewer=r});define("Core/Controls/RayUserPicture",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template=' \n<div class="col-sm-12 form-Group" style=\'Height:{{Height}}px;\'> \n<div class="RayUserPictureBackground" />\n<\/div>',i}return __extends(t,n),t.prototype.HtmlRender=function(){return n.prototype.HtmlRender.call(this)},t}(i.BaseControl);t.RayUserPicture=r});define("Core/Controls/RayRichTextBox",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template="\n                <div style='padding:0px' class=\"col-sm-12 form-Group\" >\t\n                <label for='{{ServerId}}'>{{Caption}}<\/label>\n                <span  class=\"ajaxControl RayRichTextBox\" >\n                <textarea draggable='false' class='form-control' style='Height:{{Height}}px;'>\n                <\/textarea>\n                <\/span> <\/div>",i}return __extends(t,n),t.prototype.HtmlRender=function(){return n.prototype.HtmlRender.call(this)},t}(i.BaseControl);t.RayRichTextBox=r});define("Core/Controls/RaySearchPanel",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template="\n                 <div class='col-sm-12 form-Group ' style='padding:0px'  >\n                    <label for='{{ServerId}}'>{{Caption}}<\/label>\n              \n\t\t                <div style='' class='drop-zone col primary-drop-zone' OriginalServerId={{ServerId}}><\/div>\n\t\t                <button class='btn btn-xs btn-primary pull-left' style='margin-right:5px; margin-top: 5px; margin-bottom:5px;'>{{FilterTitle if FilterTitle != \"\" else 'Filter'|i18n}}<\/button>\n\t\t                <button class='btn btn-xs btn-primary pull-left' style='margin-top: 5px; margin-bottom:5px;' >{{ResetTitle if ResetTitle != \"\" else 'Clear Filter'|i18n}}<\/button>\n                  \n\t\t         <\/div>",i}return __extends(t,n),t.prototype.HtmlRender=function(){return n.prototype.HtmlRender.call(this)},t}(i.BaseControl);t.RaySearchPanel=r});define("Core/Controls/RayNestedLink",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template="\n<div class=\"col-sm-12 form-Group\" style='padding:0px'>\t\n<label for='{{ServerId}}'>{{Caption}}<\/label>\n <div id='{{ServerId}}' name='{{ServerId}}'  class='form-control' style=''>\n    <button id='{{ServerId}}New'   parentid='{{ServerId}}' nestedtype='new' type='button' class='btn btn-primary btn-xs'>\n        <i class=\"fad fa-plus-square\"><\/i>\n    <\/button>\n    <button id='{{ServerId}}Edit'   parentid='{{ServerId}}' nestedtype='edit' type='button' class='btn btn-primary btn-xs' >\n        <i class=\"fad fa-minus-square\"><\/i>\n\t<\/button>\n    <button id='{{ServerId}}Delete' parentid='{{ServerId}}' nestedtype='delete' type='button' class='btn btn-primary btn-xs'>\n        <i class=\"fas fa-edit\"><\/i>\n\t<\/button>\n <\/div>\n<\/div>",i}return __extends(t,n),t}(i.BaseControl);t.RayNestedLink=r});define("Core/Controls/RayUserSignature",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template=' \n<div class="col-sm-12 form-Group"> \n<div class="RayUserSignatureBackground" style=\'Height:{{Height}}px;\'/>\n<\/div>',i}return __extends(t,n),t.prototype.HtmlRender=function(){return n.prototype.HtmlRender.call(this)},t}(i.BaseControl);t.RayUserSignature=r});define("Core/Controls/RayImage",["require","exports","core/control"],function(n,t,i){"use strict";var r,u;Object.defineProperty(t,"__esModule",{value:!0});r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template="{% set _style = '' %}\n{% if Align == 0 %} {% set _style = 'pull-right' %} {% endif %}\n{% if Align == 1 %} {% set _style = 'center-image' %} {% endif %}\n{% if Align == 2 %} {% set _style = 'pull-left' %} {% endif %}\n<div class=\"col-sm-12\" >\n\t<img class=\"img-responsive {{_style}}\" Style=\"height:{{Height}}px;\" src=\"{{ImageString}}\">\n<\/div>",i}return __extends(t,n),t.prototype.HtmlRender=function(){return this.Properties.ImageString=bridge.RequestApplicationFileData(this.Properties.ImageItemId),n.prototype.HtmlRender.call(this)},t}(i.BaseControl);t.RayImageControl=r,function(n){n[n.Right=0]="Right";n[n.Center=1]="Center";n[n.Left=2]="Left"}(u=t.ImageAlign||(t.ImageAlign={}))});define("Core/Controls/RayGrid",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.HtmlRender=function(){return this.Template='<div class="RayGridBg" style="height:'+this.Properties.Height+"\">\n\t        <label for='{{ServerId}}'>{{Caption}}<\/label>\n<\/div>",n.prototype.HtmlRender.call(this)},t}(i.BaseControl);t.RayGrid=r});define("Core/Controls/RayTree",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.HtmlRender=function(){return this.Template='<div class="RayTree col-sm-12" style=\'height:'+this.Properties.Height+"px;'><\/div>",n.prototype.HtmlRender.call(this)},t}(i.BaseControl);t.RayTree=r});define("Core/Controls/RayComment",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template="\n<div isr='true' id='{{ServerId}}' style='padding:0px;' class='form-group  col-sm-12 '> \n    <div class='Comment'>\n        <div class='row'  style=' margin:0px'> \n            <div class='panel panel-info' style='Height:{{Height}}px; margin-bottom:0px'>\n                <div class='panel-heading'> \n                    <div class='row'>\n                        <div style='margin-left:10px; margin-right:10px'> \n                            <button type='button'  class='btn btn-primary pull-left btnSendCommentToSubject'  isr='true'>\n                                <i class=\"fad fa-comment-alt\"><\/i>\n                            <\/button>\n                        <\/div> \n                        <span style='margin-right:5px'><\/span>\n                    <\/div>\n                <\/div>\n                <div class='panel-body CommentList'><\/div>\n            <\/div>\n        <\/div>\n        <div class='row'  style='margin:0px'>\n            <div class='panel panel-info SendBox hide' parentId=''>\n                <div class='panel-body'>\n                    <div>\n                        <div>\n                            <textarea draggable='false' rows='5' style='margin-bottom:12px !important; margin-top:5px; cursor:default; background-color:white !important; color:#222 !important; resize:vertical' class='form-control msgBody' value=''><\/textarea>\n                        <\/div>\n                        <button type='button'  class='btn btn-primary pull-left btnSendComment' isr='true'>\n                            <span>{{'Save'|i18n}}<\/span>\n                        <\/button>\n                    <\/div>\n                <\/div>\n            <\/div>\n        <\/div>\n    <\/div>\n<\/div>",i}return __extends(t,n),t.prototype.HtmlRender=function(){return n.prototype.HtmlRender.call(this)},t}(i.BaseControl);t.RayComment=r});define("Core/Controls/RayPayment",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template="<div class='col-sm-12  form-Group' id='{{ServerId}}' name='{{ServerId}}' style='padding:5px'>\n                  \n                    <div class='row col-sm-12'>\n                        <span class='PPrice'>\n                           1،000،000 {{'Currency'|i18n}} \n                        <\/span>\n                    <\/div>\n                    <div class='PABox row col-sm-12'>\n                        <span> {{'Through'|i18n}} <\/span>\n                        <select tabindex='31' disabled=true class='PAccount form-control'>  \n                            \n                        <\/select>\n                    <\/div>\n                    <div class='row col-sm-12'>\n                        <button title='{{'Payment'|i18n}}' type='button' style='margin-top:5px' class='btn btn-primary btn-xs PButton'>{{'Payment'|i18n}}<\/button>\n                    <\/div>\n                    <div class='row col-sm-12'>\n                        <span class='PStat'>\n                            {{'Unpaid'|i18n}}\n                        <\/span>\n                    <\/div> \n                <\/div>",i}return __extends(t,n),t.prototype.HtmlRender=function(){return n.prototype.HtmlRender.call(this)},t}(i.BaseControl);t.RayPayment=r});define("Core/Controls/RayChart",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template=' \n<div class="col-sm-12 form-Group"> \n<div class="RayChartBackground" style=\'height:{{Height}}px\'/>\n<\/div>',i}return __extends(t,n),t.prototype.HtmlRender=function(){return n.prototype.HtmlRender.call(this)},t}(i.BaseControl);t.RayChart=r});define("Core/Controls/RayClientChart",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template=' \n<div class="col-sm-12 form-Group"> \n<div class="RayClientChartBackground" style=\'height:{{Height}}px\'/>\n<\/div>',i}return __extends(t,n),t.prototype.HtmlRender=function(){return n.prototype.HtmlRender.call(this)},t}(i.BaseControl);t.RayClientChart=r});define("Core/Controls/RayMap",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template=' \n<div class="col-sm-12 form-Group"> \n<div class="RayMapBackground" style=\'height:{{Height}}px\'/>\n<\/div>',i}return __extends(t,n),t.prototype.HtmlRender=function(){return n.prototype.HtmlRender.call(this)},t}(i.BaseControl);t.RayMap=r});define("Core/Controls/RayGauge",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template=' \n<div class="col-sm-12 form-Group"> \n<div class="RayGaugeBackground" style=\'height:{{Height}}px\' />\n<\/div>',i}return __extends(t,n),t.prototype.HtmlRender=function(){return n.prototype.HtmlRender.call(this)},t}(i.BaseControl);t.RayGauge=r});define("Core/Controls/RayAssign",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template='<div class="rayAssign form-group control" data-type="textbox" style="height:{{Height}}px">\n            <label for="{{ServerId}}">{{Caption}}<\/label>\n            <div ><\/div>\n        <\/div>',i}return __extends(t,n),t}(i.BaseControl);t.RayAssignControl=r});define("Core/Controls/RayHelp",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template="\n<div class='col-sm-12 {{AlignCss}}' style='padding:0px; margin:10px;'>\n    <span  class='btn {{AlignCss}}' style='padding:0px; color:{{IconImageIndex}}'>\n        <i class='fad fa-2x {{IconStyle}}'><\/i> {{HelpText}}\n\t<\/span>\n<\/div>",i}return __extends(t,n),t.prototype.HtmlRender=function(){return n.prototype.HtmlRender.call(this)},t}(i.BaseControl);t.RayHelp=r});define("Core/Controls/RayGanttChart",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template="\n                <div  class='col-sm-12 form-Group'>\n                        <div class=\"RayGanttChartBackground\" Style='height:{{Height}}px;' Height='{{Height}}px' />\n                 <\/div>",i}return __extends(t,n),t.prototype.HtmlRender=function(){return n.prototype.HtmlRender.call(this)},t}(i.BaseControl);t.RayGanttChart=r});define("Core/Controls/ArpgControl",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template=' <div class="col-sm-12 form-Group">\n<div class="ArpgBackground" style=\'height:{{Height}}px\'/>\n<\/div>',i}return __extends(t,n),t.prototype.HtmlRender=function(){return n.prototype.HtmlRender.call(this)},t}(i.BaseControl);t.ArpgControl=r});define("Core/Controls/RayGenericGrid",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.HtmlRender=function(){return this.Template='<div class="RayGridBg" style="height:'+this.Properties.Height+"\">\n\t        <label for='{{ServerId}}'>{{Caption}}<\/label>\n<\/div>",n.prototype.HtmlRender.call(this)},t}(i.BaseControl);t.RayGenericGrid=r});define("Core/Controls/RayDateTimePicker",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){var i=n.call(this,t)||this;return i.Template="<div class='form-group'>\n        <label for=\"{{ServerId}}\">{{Caption}}<\/label>\n\t<div class='input-group'>\n\t\t<input draggable='false' type='text' name='{{ServerId}}' class='form-control' placeholder='__/__/____'/>\n\t\t<div class='input-group-addon'>\n\t\t\t<i class=\"fad fa-calendar-alt\"><\/i>\n\t\t<\/div>\n\t<\/div>\n<\/div>",i}return __extends(t,n),t.prototype.HtmlRender=function(){var t=n.prototype.HtmlRender.call(this);return this.Element.find(":text").bind("input keypress keydown keyup focus",function(n){n.preventDefault()}),t},t}(i.BaseControl);t.RayDateTimePicker=r});define("Core/Controls/RayCanvasPanel",["require","exports","core/control"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.HtmlRender=function(){return this.Template="<div class='form-group control'>\n                            <label for=\"{{ServerId}}\">{{Caption}}<\/label>\n\t                         <div class=\"RayCanvasPanelBackground\" style='Height:{{Height}}px;Width:{{Width}}px;margin:auto;' />\n                            <\/div>\n                        ",n.prototype.HtmlRender.call(this)},t}(i.BaseControl);t.RayCanvasPanel=r});define("Core/Factory",["require","exports","core/control","Core/Layouts","Core/Controls","Core/Controls/RayDatePicker","Core/Controls/RayFileAttachment","Core/Controls/RayDynamicImage","Core/Controls/RayImageViewer","Core/Controls/RayUserPicture","Core/Controls/RayRichTextBox","Core/Controls/RaySearchPanel","Core/Controls/RayNestedLink","Core/Controls/RayUserSignature","Core/Controls/RayImage","Core/Controls/RayGrid","Core/Controls/RayTabControl","Core/Controls/RayTabPage","Core/Controls/RayTree","Core/Controls/RayComment","Core/Controls/RayPayment","Core/Controls/RayChart","Core/Controls/RayClientChart","Core/Controls/RayMap","Core/Controls/RayGauge","Core/Controls/RayAssign","Core/Controls/RayHelp","Core/Controls/RayGanttChart","Core/Controls/ArpgControl","Core/Controls/RayGenericGrid","Core/Controls/RayDateTimePicker","Core/Controls/RayCanvasPanel"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var lt=function(){function n(){}return n.Create=function(t,r,u){u===void 0&&(u=!1);try{var e=i.ControlTypeEnum[t],f=JSON.stringify(r);return u&&(f=bridge.RequestAddControl(t,f)),r=JSON.parse(f),new n._classes[e](r)}catch(o){console.log(t+" not found.");throw o;}},n}();lt._classes={Row:r.Row,Column:r.Column,RayTextBox:u.RayTextBox,RayButton:u.RayButton,RayDropDownList:u.RayDropDownList,RayTabControl:w.RayTabControl,RayTabPage:b.RayTabPage,RayCheckBox:u.RayCheckBox,RayRadioButtonList:u.RayRadioButtonList,RayAutoCompleteDropDownList:u.RayAutoCompleteDropDownList,RayNumericTextBox:u.RayNumericTextBox,RayLabel:u.RayLabel,RayLine:u.RayLine,RayTime:u.RayTime,RayImageControl:y.RayImageControl,RayDynamicImage:o.RayDynamicImage,RayRichTextBox:c.RayRichTextBox,RayFileAttachment:e.RayFileAttachment,RayImageViewer:s.RayImageViewer,RayUserSignature:v.RayUserSignature,RayUserPicture:h.RayUserPicture,RayDatePicker:f.RayDatePicker,RayGrid:p.RayGrid,RayNestedLink:a.RayNestedLink,RayComment:d.RayComment,RayChart:nt.RayChart,RayTree:k.RayTree,RayPayment:g.RayPayment,RayClientChart:tt.RayClientChart,RayMap:it.RayMap,RayHelp:ft.RayHelp,RayGauge:rt.RayGauge,RayAssignControl:ut.RayAssignControl,RayGanttChart:et.RayGanttChart,RaySearchPanel:l.RaySearchPanel,ArpgControl:ot.ArpgControl,RayGenericGrid:st.RayGenericGrid,RayDateTimePicker:ht.RayDateTimePicker,RayCanvasPanel:ct.RayCanvasPanel};t.ControlFactory=lt});define("HistoryManager",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(n){n===void 0&&(n="[]");this._emptyJson="[]";this._emptyJson=n;this._history=[this._emptyJson];this._historyPointer=0}return n.prototype.PushHistory=function(n){this._history[++this._historyPointer]=n},n.prototype.PopHistory=function(){return this._historyPointer>0?this._history[--this._historyPointer]:this._emptyJson},n.prototype.GetHistoryAt=function(n){return n<=0||n>this._history.length-1?null:(this._historyPointer=n,this._history[this._historyPointer])},Object.defineProperty(n.prototype,"HistoryPointer",{get:function(){return this._historyPointer},enumerable:!0,configurable:!0}),n}();t.HistoryManager=i});define("Helpers/EventHelper",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(){}return n.PrepareDragEvent=function(n,t,i){t===void 0&&(t="copy");i===void 0&&(i=null);var r=n.originalEvent;r.dataTransfer.setData("application/json",i==null?n.target.getAttribute("data-info"):JSON.stringify(i));r.dataTransfer.effectAllowed=t;r.dataTransfer.dropEffect=t},n}();t.EventHelper=i});define("ClientBridge",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})});define("Toolbox",["require","exports","Application"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(n){this._template='<ul class="nav nav-tabs">\n{%for tabKey, tab in _tabs%}\n    <li {%if tab.IsSelected%} class=\'active\' {%endif%}><a data-toggle="tab" draggable=\'false\' href="#{{tab.Name}}">{{tab.Caption}}<\/a><\/li>\n\t{%endfor%}\n<\/ul>\n<div class="tab-content">\n{%for tabKey, tab in _tabs%}\n    <div id="{{tab.Name}}" class="tab-pane{%if tab.IsSelected%} active {%endif%}">\n        <h3><\/h3>\n        <div class="form-group">\n        <input type="text" class="search form-control" class="toolbox-search" placeholder="{{\'Search\'|i18n}}...">\n        <\/div>\n        <div class="list-group" style="overflow-y: auto; max-height: calc(100% - 180px);">\n            {%for item in tab.Items%}\n            <button type="button" tab="{{tab.Name}}" class="list-group-item {{item.CssClass}} control-item" draggable="true" title="{{item.Tooltip}}" itemid=\'{{item.Properties.ServerId}}\' data-info=\'{{item.Properties|dump}}\'>{{item.Name|safe|nl2br}}<\/button>\n            {%endfor%}\n        <\/div>\n    <\/div>\n{%endfor%}\n<\/div>';this._tabs={};this._container=n}return n.prototype.AddTab=function(n,t,i){i===void 0&&(i=!1);this._tabs[n]={Name:n,Caption:t,Items:[],IsSelected:i}},n.prototype.AddTabItem=function(n){this._tabs[n.Tab].Items.push(n)},n.prototype.SortByName=function(){var t,n;for(t in this._tabs)n=this._tabs[t],n.Items=n.Items.sort(function(n,t){return n.Name>t.Name?1:n.Name<t.Name?-1:0})},n.prototype.Render=function(){$(this._container).html(i.App.DefaultRenderEngine.Render(this._template,{_tabs:this._tabs}));$(this._container).find(".search").bind("keyup",function(){var n=$(this).val(),t=$(this).parent().next(".list-group");t.children().each(function(){$(this).text().toLowerCase().indexOf(n.toLowerCase())<0?$(this).hide():$(this).show()})});$('a[data-toggle="tab"]').on("shown.bs.tab",function(){bridge.RequestRefresh()})},n}();t.Toolbox=r});define("ShortkeyManager",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(){var n=this,t;this._keyMap={};this._keys={};this.InitKeyMap();t=this;$("body").keydown(function(i){var r=n.GetName(i);typeof n._keys[r]!="undefined"&&(t.PreventDefault(i),n._keys[r](i))})}return n.prototype.InitKeyMap=function(){this._keyMap.A=65;this._keyMap.B=66;this._keyMap.C=67;this._keyMap.D=68;this._keyMap.E=69;this._keyMap.F=70;this._keyMap.G=71;this._keyMap.H=72;this._keyMap.I=73;this._keyMap.J=74;this._keyMap.K=75;this._keyMap.L=76;this._keyMap.M=77;this._keyMap.N=78;this._keyMap.O=79;this._keyMap.P=80;this._keyMap.Q=81;this._keyMap.R=82;this._keyMap.S=83;this._keyMap.T=84;this._keyMap.U=85;this._keyMap.V=86;this._keyMap.W=87;this._keyMap.X=88;this._keyMap.Y=89;this._keyMap.Z=90;this._keyMap.DEL=46},n.prototype.GetName=function(n){var t="";return n.ctrlKey===!0&&(t="CTRL"),n.altKey===!0&&(t+=" ALT"),n.shiftKey===!0&&(t+=" SHIFT"),t+=" "+n.keyCode.toString(),t.trim()},n.prototype.FixName=function(n){n=n.toUpperCase();var t=n.split(" ").filter(function(n){return n!==""});return t[t.length-1]=this._keyMap[t[t.length-1]].toString(),t.join(" ")},n.prototype.PreventDefault=function(n){n.stopImmediatePropagation();n.stopPropagation();n.preventDefault()},n.prototype.Register=function(n,t){this._keys[this.FixName(n)]=t},n}();t.ShortcutManager=i});define("Designer",["require","exports","core/control","Core/Layouts","Core/Factory","HistoryManager","Helpers/EventHelper","Toolbox","ShortkeyManager"],function(n,t,i,r,u,f,e,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function n(n){var i,r,t;n===void 0&&(n="[]");i=this;this._multiSelectMode=!1;this._toolBoxItemSelector=".Control-item";this._formSurfaceSelector=".drop-area";this._rowContainerSelector=".row-container";this._dropZoneSelector=".drop-zone";this._tempDropZoneSelector=".temp-drop-zone";this._isTempDropZoneCreated=!1;this._formSurface=null;this._dataName={};this._controls=[];this._history=null;this._shortcut=null;this._entityFields=[];this._shortcut=new s.ShortcutManager;this._history=new f.HistoryManager(n);this._entityFields=JSON.parse(bridge.GetEntityFields());this.CreateFormSurface();this.InitContextMenu();this.CreateToolBox();this.InitShortcuts();this.InitPageSizeMenu();r=JSON.parse(bridge.RequestSampleData());this.Draw(r,this._formSurface);t=this;this.ClientBridge={SelectItem:function(n){var i=t.FindById(n);t.SelectControl(i.Element,!1)},OnChange:function(n,r){var e,u,o,f;(r===void 0&&(r=null),e=t.FindById(r==null?n:r),n!=null&&$.trim(n)!=="")&&(u=bridge.RequestControlData(n),r!==null&&t._formSurface.find("[serverid="+r+"]:first").attr("serverid",n),o=JSON.parse(u),e.Properties=o,f=t._formSurface.find("[serverid="+r+"]:first"),i.Draw([JSON.parse(u)],f,!0),f.remove())}}}return n.prototype.IsMultiLineMode=function(){return this._multiSelectMode},n.prototype.InitPageSizeMenu=function(){var t=this,n=bridge.RequestPageSize();jQuery("#page-size a").click(function(n){n.preventDefault();var t=$(this).data("page-size");bridge.RequestSetPageSize(t);jQuery("#page-size li").removeClass("active");$(this).parent().addClass("active")});jQuery("[data-page-size="+n+"]").parent().addClass("active")},n.prototype.FindById=function(n){for(var i,r=null,t=0,u=this._controls;t<u.length;t++)if(i=u[t],i.Properties.ServerId==n){r=i;break}return r},n.prototype.Draw=function(n,t,r){var l=this,s,h;for(r===void 0&&(r=!1),t.find(".primary-drop-zone").length>0&&(t=t.find(".primary-drop-zone:first")),s=0,h=n;s<h.length;s++){var e=h[s],o=null,f=this.FindById(e.ServerId),c=f!==null;e.Type!==i.ControlTypeEnum.Row&&e.Type!==i.ControlTypeEnum.Column&&e.Type!==i.ControlTypeEnum.RayTabPage&&(o=this.CreateControlContainer(e.ServerId,t,r),this.AttachPropertiesEvents(o.Element),r=!1);f==null?f=u.ControlFactory.Create(e.Type,e):f.Properties=e;f.HtmlRender();e.Type===i.ControlTypeEnum.Row?this.AttachPropertiesEvents(f.Element):e.Type===i.ControlTypeEnum.Column?(this.AttachDropEvents(f.Element),this.AttachColumnEvents(f.Element)):e.Type==i.ControlTypeEnum.RayTabPage?(this.AttachDropEvents(f.Element),this.AttachColumnEvents(f.Element)):o!==null&&this.AttachPropertiesEvents(o.Element.parent());e.Type==i.ControlTypeEnum.RaySearchPanel&&(this.AttachDropEvents(f.Element.find(".drop-zone")),this.AttachColumnEvents(f.Element.find(".drop-zone")));c||(this._controls.push(f),f.OnChange=function(n,t,i){return l.Control_OnChange(n,t,i)});c&&jQuery.contains(document.body,f.Element[0])||(r===!1?f.Element.appendTo(o==null?t:o.Element):f.Element.insertAfter(o==null?t:o.Element));e.Children.length>0&&this.Draw(e.Children,f.Element)}},n.prototype.InitShortcuts=function(){var n=this,t=this;$("body").keydown(function(n){n.ctrlKey&&(t._multiSelectMode=!0)});$("body").keyup(function(n){n.ctrlKey||n.keyCode!==17||(t._multiSelectMode=!1);console.log("evt",n);console.log(t._multiSelectMode)});this._shortcut.Register("CTRL Z",function(){console.log("CTRL Z")});this._shortcut.Register("CTRL D",function(){jQuery(".item-selected").length!==0&&n.DuplicateSelected()});this._shortcut.Register("CTRL S",function(){bridge.RequestSave();n._multiSelectMode=!1});this._shortcut.Register("CTRL E",function(){});this._shortcut.Register("CTRL Q",function(){console.log("weee")});this._shortcut.Register("DEL",function(){n.RemoveSelected()})},n.prototype.CreateFormSurface=function(){var n=this;this._formSurface=jQuery(this._formSurfaceSelector);this._formSurface.bind("dragover",function(t){return n.FormSurface_OnDragOver(t)});this._formSurface.bind("click",function(t){return n.FormSurface_OnClick(t)})},n.prototype.InitContextMenu=function(){var n=this;jQuery(this._formSurface).contextMenu({menuSelector:"#contextMenu",beforeOpening:function(t){return n.GenerateContextMenu(jQuery(t.target))}})},n.prototype.CreateToolBox=function(){var u=this,a,t,f,v,r,s;for(this._toolbox=new o.Toolbox("#toolbar-container"),this._toolbox.AddTab("Controls",bridge.Loc("Controls")),this._toolbox.AddTab("Layouts",bridge.Loc("Layouts"),!0),a=JSON.parse(bridge.RequestToolBarItems()),t=0,f=a;t<f.length;t++)v=f[t],this._toolbox.AddTabItem(v);for(r=0,s=this._entityFields;r<s.length;r++){var n=s[r],h="RayTextBox",c=null,l="";n.FieldType==="boolean"?(h="RayCheckBox",c={Type:i.ControlTypeEnum.RayCheckBox,Caption:n.FieldCatpion,BindInfo:n},l="checkbox-control"):n.FieldType==="datetime"?(h="RayCheckBox",c={Type:i.ControlTypeEnum.RayDatePicker,Caption:n.FieldCatpion,BindInfo:n},l="date-control"):(h="RayTextBox",c={Type:i.ControlTypeEnum.RayTextBox,Mode:0,Caption:n.FieldCatpion,Placeholder:n.FieldCatpion,BindInfo:n},l="textbox-control")}this._toolbox.Render();jQuery(this._toolBoxItemSelector).bind("dragstart",function(n){u.Deselect();var t=JSON.parse(n.target.getAttribute("data-info"));$(n.target).attr("tab")=="Convert"&&(t.ConvertMode=!0);e.EventHelper.PrepareDragEvent(n,"copy",t);u.CreateTempDropZones()});$(this._toolBoxItemSelector).bind("dragend",function(){u.RemoveTempDropZones()})},n.prototype.RemoveSelected=function(){var n=this;jQuery(".item-selected").length!==0&&Dialog.showConfirm(bridge.Loc("Warning"),bridge.Loc("Are you sure you want to remove the selected row or the control?")).done(function(){var u=[jQuery(".item-selected").attr("serverid")],t;jQuery(".item-selected").find("[serverid]").each(function(){u.push($(this).attr("serverId"))});var i=jQuery(".item-selected").attr("serverid"),f=n.FindById(i),r=bridge.RequestDelete(i);if(r=="True"){for(t=0;t<n._controls.length;t++)n._controls[t].Properties.ServerId===i&&n._controls.splice(t,1);jQuery(".item-selected").remove();bridge.RequestSelectControl(null)}else Dialog.showMessage("Error",r)})},n.prototype.Deselect=function(){jQuery(".item-selected").removeClass("item-selected")},n.prototype.SelectControl=function(n,t,i){var r,u;if(t===void 0&&(t=!0),i===void 0&&(i=null),this.IsMultiLineMode()||this.Deselect(),n=jQuery(n),r=null,n.hasClass("temp-drop-zone")||(r=n),n.length===1&&(n=n.hasClass("row-container")?r:jQuery(n.parents(".row-container")[0])),n.length!==0)return n!==null&&(jQuery(n).toggleClass("item-selected"),t&&n.length===1&&!this.IsMultiLineMode()?bridge.RequestSelectControl(n.attr("serverid")):t&&this.IsMultiLineMode()&&(u=[],$(".item-selected").each(function(){u.push($(this).attr("serverid"))}),bridge.RequestSelectControls(u))),n},n.prototype.GetControlsJSON=function(){return JSON.stringify([])},n.prototype.CreateControlsFromJSON=function(n){if(n!=null){this._formSurface.html("");var t=JSON.parse(n)}},n.prototype.CorrectRowOrder=function(n,t){return typeof t=="undefined"&&(t=null),0},n.prototype.IsRowContainerEmpty=function(n){return jQuery("[serverid="+n+"]").find("[serverid]").length===0},n.prototype.IsRowContainerColumnEmpty=function(n,t){return jQuery("[serverid="+n+"]").children(".col:eq("+t+")").children("[serverid]").length===0},n.prototype.GenerateContextMenu=function(n){var c=this,a=this,r,t,e,u,f,l,v,o,s,h;if(n=this.SelectControl(n,!0),r=null,t=n.attr("ServerId"),t===null||typeof t=="undefined"||t===""){if(e=n.closest("[serverid]"),e.length===0)return!1;t=e.attr("ServerId")}return(r=this.FindById(t),r==null)?!1:(r.Properties.Type==i.ControlTypeEnum.Column&&(r=this.FindById(r.Properties.ParentId),t=r.Properties.ServerId),u=jQuery("#contextMenu").html(""),r.Properties.Type===i.ControlTypeEnum.Row&&(f=jQuery('<li class="dropdown-submenu"><a tabindex="-1" href="#"><i class="fad fa-tasks-alt"><\/i> '+bridge.Loc("The ending columns are not empty, Make those columns empty first. For example if want to change a 4 columns row into a 3 columns row, you should make the 4th column empty first.")+'<\/a><ul class="dropdown-menu"><\/ul><\/li>'),f.appendTo(u),f=f.children("ul:first"),l=$(n),v=this.FindById(t).Properties,$(".row-icon").each(function(){var i=jQuery(this).text(),r=$(this).data("info").Columns,n=$('<li><a href="#"><i class="fad fa-check-circle"><\/i> '+i+"<\/a><\/li>");n.attr("data-info",JSON.stringify(r));f.append(n);n.click(function(){var i=bridge.RequestLayoutChange(t,$(this).data("info")),n;i?(n=JSON.parse(bridge.RequestControlData(t)),a.Draw([n],l)):Dialog.showMessage(bridge.Loc("Warning"),bridge.Loc("The ending columns are not empty, Make those columns empty first. For example if want to change a 4 columns row into a 3 columns row, you should make the 4th column empty first."))})}),u.append("<li class='divider'><\/li>")),o="right",s=$("<li><a href='#'><i class=\"fad fa-clone\"><\/i> "+bridge.Loc("Duplicate")+(" <small style='color:lightgray;padding-left:5px' class='pull-"+o+"'>CTRL + D<\/small><\/a><\/li>")),s.click(function(){c.DuplicateSelected()}),u.append(s),u.append("<li class='divider'><\/li>"),h=$("<li><a href='#'><i class=\"fad fa-trash\"><\/i> "+bridge.Loc("Remove")+(" <small style='color:lightgray' class='pull-"+o+"'>DEL<\/small><\/a><\/li>")),h.click(function(n){n.preventDefault();c.RemoveSelected()}),u.append(h),!0)},n.prototype.CreateTempDropZones=function(n){var t,i;if(n===void 0&&(n=null),!this._isTempDropZoneCreated){if(this._isTempDropZoneCreated=!0,this._formSurface.children(this._rowContainerSelector).length===0)t=this.CreateTempDropZone(!0),this._formSurface.append(t),this.AttachDropEvents(t);else{var r=this._formSurface.children(".row-container:first"),u=this._formSurface.children(".row-container:last"),t=this.CreateTempDropZone(!0);t.insertBefore(r);this.AttachDropEvents(t);t=this.CreateTempDropZone(!0);t.insertAfter(u);this.AttachDropEvents(t);i=this;$(this._dropZoneSelector).each(function(){var u=$(this).parent(),r;if(!u.hasClass("drop-area")&&(r=jQuery(this).children(".row-container"),r.length>0&&jQuery(this).closest("[serverid="+n+"]").length==0)){var f=jQuery(this).children(".row-container:first"),e=jQuery(this).children(".row-container:last"),t=i.CreateTempDropZone();t.insertBefore(f);i.AttachDropEvents(t);t=i.CreateTempDropZone();t.insertAfter(e);i.AttachDropEvents(t)}})}bridge.RequestRefresh()}},n.prototype.CreateTempDropZone=function(n){n===void 0&&(n=!1);var t=n?bridge.Loc("Add row to page"):bridge.Loc("Insert Here"),i=n?"row temp-drop-zone text-center page-temp-drop-zone":"row temp-drop-zone text-center";return jQuery("<div class='"+i+"'>"+t+"<\/div>")},n.prototype.RemoveTempDropZones=function(){this._isTempDropZoneCreated=!1;$(this._tempDropZoneSelector).remove();bridge.RequestRefresh()},n.prototype.DuplicateSelected=function(){if(!this.IsMultiLineMode()){var n=jQuery(".item-selected").attr("serverId"),r=this.FindById(n),t=jQuery(".item-selected"),i=[JSON.parse(bridge.RequestDuplicate(n))];console.warn("ToDo: make sure you make differences for tab container");this.Draw(i,t,!0)}},n.prototype.CreateControlContainer=function(n,t,f){var e=u.ControlFactory.Create(i.ControlTypeEnum.Row,{Caption:null,Type:i.ControlTypeEnum.None,ServerId:n,BreakOnTabletMobile:!1}),o=new r.Column({Caption:"",ServerId:"",Type:i.ControlTypeEnum.None,Width:12,IsBorder:!1,BorderColor:"Black",BackgroundColorRgba:"Transparent",ParentInfo:null,BindInfo:null,ParentId:"",HasCodeItem:null,Children:[]});return e.HtmlRender(),t.hasClass("temp-drop-zone")||f?e.Element.insertAfter(t):e.Element.appendTo(t),o.HtmlRender(),o.Element.removeAttr("serverId"),o.Element.appendTo(e.Element),o.Element.removeClass("drop-zone"),e.Element.addClass("control-container"),o},n.prototype.MoveElementTo=function(n,t){var r=jQuery('[ServerId="'+t.ServerId+'"]').first();if(!jQuery.contains(r[0],n[0])){var e=n.prev(),f=n.hasClass("temp-drop-zone"),u=n.hasClass("page-temp-drop-zone"),i=null;f&&!u?(r.insertAfter(n),i=n.parent().attr("serverId")):u?(r.insertAfter(n),i=null):(r.appendTo(n),i=n.attr("serverId"));this.RequestOrderNumber(n,t.ServerId,i);bridge.RequestUpdateProperty(t.ServerId,"ParentId",i)}},n.prototype.RequestOrderNumber=function(n,t,i){var r=n.hasClass("temp-drop-zone")?n.prev():null;return(typeof i=="undefined"||i=="")&&(i=null),bridge.RequestOrderId(t,r==null?null:r.attr("serverId"),i)},n.prototype.SetParentId=function(n,t){n.hasClass("temp-drop-zone")?(t.ParentId=n.parent().attr("ServerId"),(t.ParentId==null||typeof t.ParentId=="undefined")&&(t.ParentId=n.parent().attr("originalserverid"))):t.ParentId=n.attr("ServerId");typeof t.ParentId=="undefined"&&(t.ParentId=n.attr("OriginalServerId"));typeof t.ParentId=="undefined"&&(t.ParentId=null)},n.prototype.AddLayoutTo=function(n,t,r,f){var l,e,a,s,c,v,h,o;for(r===void 0&&(r=!1),f===void 0&&(f=!1),this.SetParentId(n,t),l=n.prev(),n.hasClass("temp-drop-zone")||(l=null),e=u.ControlFactory.Create(i.ControlTypeEnum.Row,t,!0),e.HtmlRender(),this._controls.push(e),a=0,s=0,c=t.Columns;s<c.length;s++)v=c[s],h={Width:v},h.ParentId=e.Properties.ServerId,h.Order=a++,o=u.ControlFactory.Create(i.ControlTypeEnum.Column,h,!0),o.HtmlRender(),this._controls.push(o),e.Element.append(o.Element),this.AttachDropEvents(o.Element),this.AttachColumnEvents(o.Element);return this.AttachPropertiesEvents(e.Element),r&&e.Element.hide(),n.hasClass("temp-drop-zone")?e.Element.insertAfter(n):f?e.Element.insertAfter(n):n.append(e.Element),r&&e.Element.slideDown(),this.RequestOrderNumber(n,e.Properties.ServerId,e.Properties.ParentId),e},n.prototype.AddControlTo=function(n,t,r,f){var s,e,o;return r===void 0&&(r=!1),f===void 0&&(f=!1),s=n.prev(),this.SetParentId(n,t),e=u.ControlFactory.Create(t.Type,t,!0),e.HtmlRender(),this._controls.push(e),o=this.CreateControlContainer(e.Properties.ServerId,n),o.Element.append(e.Element),r&&o.Element.hide(),this.RequestOrderNumber(n,e.Properties.ServerId,e.Properties.ParentId),this.AttachPropertiesEvents(o.Element),this.AttachPropertiesEvents(o.Element.parent()),e.Properties.Children.length>0&&this.Draw(e.Properties.Children,e.Element),e.Properties.Type==i.ControlTypeEnum.RayTabControl&&this.AttachDropEvents(e.Element.find(".tabpage > .drop-zone")),e.Properties.Type==i.ControlTypeEnum.RaySearchPanel&&(console.log(e.Element.find(".drop-zone")),this.AttachDropEvents(e.Element.find(".drop-zone"))),r&&o.Element.slideDown("slow"),e},n.prototype.Control_OnChange=function(n,t,i){this.FormSurface_OnChange();bridge.RequestUpdateProperty(n,t,i)},n.prototype.FormSurface_OnChange=function(){this._history.PushHistory(this.GetControlsJSON())},n.prototype.FormSurface_OnClick=function(n){this.SelectControl(jQuery(n.target))},n.prototype.FormSurface_OnDragOver=function(){var n=jQuery(event.target);n.hasClass("row-container")||(n=n.closest(".row-container"));n!=null&&n.parent().hasClass("drop-area")&&this._formSurface.children(".temp-drop-zone:last").insertAfter(n)},n.prototype.AttachPropertiesEvents=function(n){var t=this,i=this;n.bind("dragstart",function(n){i.IsMultiLineMode()||(n.stopPropagation(),e.EventHelper.PrepareDragEvent(n,"move",t.FindById(n.target.getAttribute("serverId")).Properties))});n.bind("drag",function(n){i.IsMultiLineMode()||(n.stopPropagation(),t.CreateTempDropZones(n.target.getAttribute("serverid")))});n.bind("dragend",function(n){i.IsMultiLineMode()||(n.stopPropagation(),t.RemoveTempDropZones())})},n.prototype.AttachColumnEvents=function(n){n.bind("dragover",function(n){var t=jQuery(n.target);t.hasClass("row-container")||(t=t.closest(".row-container"));t!=null&&t.parent()[0]===this&&$(this).children(".temp-drop-zone:last").insertAfter(t)})},n.prototype.AttachDropEvents=function(n){var t=this;n.bind("drop",function(n){var e,r,u;if(t.IsMultiLineMode()){$(this).removeClass("drop-it");return}n.stopPropagation();n.preventDefault();e=n.originalEvent.dataTransfer.getData("application/json");try{r=JSON.parse(e)}catch(n){console.log(n);return}if(u=null,typeof r.ServerId!="undefined"&&r.ServerId!==null&&(r.ConvertMode===!1||typeof r.ConvertMode=="undefined")?t.MoveElementTo(jQuery(this),r):u=r.Type===i.ControlTypeEnum.Row?t.AddLayoutTo(jQuery(this),r,!0):t.AddControlTo(jQuery(this),r,!0),u!=null){u.OnChange=function(n,i,r){return t.Control_OnChange(n,i,r)};var o=jQuery(this).prev("[ServerId]"),s=jQuery(this).hasClass("temp-drop-zone"),h=jQuery(this).hasClass("page-temp-drop-zone"),f=jQuery(this).index();h?f=0:s&&(f=jQuery(this).parent().index());u.Properties.ParentInfo={ColumnIndex:f,ParentId:jQuery(this).hasClass("page-temp-drop-zone")?null:jQuery(this).closest("[serverid]").attr("serverId"),Order:t.CorrectRowOrder(o.length===0?null:o.attr("serverId"),jQuery(this).closest("[serverid]").attr("serverId"))};t.SelectControl(u.Element);t.FormSurface_OnChange()}$(this).removeClass("drop-it")});n.bind("dragover",function(n){var i=$(this).parent().attr("serverid")||$(this).attr("serverid"),r=$(this).index();(t.IsRowContainerColumnEmpty(i,r)||typeof i=="undefined")&&n.preventDefault()});n.bind("dragenter",function(n){t.IsMultiLineMode()||(n.stopPropagation(),n.preventDefault(),$(this).find(".temp-drop-zone").length>0)||$(this).addClass("drop-it")});n.bind("dragleave",function(n){$(this).removeClass("drop-it");n.preventDefault()})},n}();t.Designer=h});define("core/control",["require","exports","Application"],function(n,t,i){"use strict";var u,r;Object.defineProperty(t,"__esModule",{value:!0});u=function(){function n(n,t){t===void 0&&(t=null);this.VisualTemplate="<div class='visual'>\n\t\t\t{% if HasCodeItem %} <span class=\"pull-right\" style='color:darkblue;font-weight:bold' data-toggle='tooltip' title='{{'Has Code'|i18n}}'><i class=\"fad fa-code\"><\/i><\/span>{% endif %}\n\t\t\t{% if IsBindable and not HasDataBinding %} <span class=\"pull-right\" style='color:red;' data-toggle='tooltip' title='{{'Need Binding'|i18n}}'><i class=\"fad fa-exclamation-triangle\"><\/i><\/span>{% endif %}\n\t\t<\/div>";this.Properties=n;this.Element=t}return n.prototype.HtmlRender=function(){var n=i.App.DefaultRenderEngine.Render(this.Template,this.Properties),t;return this.Element!==null&&jQuery.contains(document.body,this.Element[0])?(t=jQuery(n),t.insertAfter(this.Element),this.Element.remove(),this.Element=t):this.Element=jQuery(n),this.RenderVisualStateIcons(),this.MakeCaptionEditable(),n},n.prototype.MakeCaptionEditable=function(){var t=this,i=this,n=this.Element.find(".caption:first");(n.length===0&&(n=this.Element.find("label:first")),n.length!==0)&&(n.click(function(){n.attr("contenteditable","true");t.Element.find(":input").attr("disabled","disabled");setTimeout(function(){n.get(0).focus();document.execCommand("selectAll")},100)}),n.bind("input",function(){t.Properties.Caption=n.text()}),n.bind("blur",function(){document.getSelection().removeAllRanges();n.attr("contenteditable","false");t.OnChange&&t.OnChange(t.Properties.ServerId,"Caption",n.text());t.Element.find(":input").removeAttr("disabled")}),n.keydown(function(t){t.stopPropagation();(t.which===13||t.which===27)&&(t.preventDefault(),n.blur())}))},n.prototype.RenderVisualStateIcons=function(){if(this.Properties.Type!==r.Row&&this.Properties.Type!==r.None){var n=i.App.DefaultRenderEngine.Render(this.VisualTemplate,this.Properties);this.Element.children(".visual").length===0?this.Element.append(jQuery(n)):this.Element.children(".visual").html(n)}},n.prototype.ToJsonString=function(){return JSON.stringify(this.Properties)},n}();t.BaseControl=u,function(n){n[n.RayLabel=0]="RayLabel";n[n.RayTextBox=1]="RayTextBox";n[n.RayDropDownList=2]="RayDropDownList";n[n.RayAutoCompleteDropDownList=3]="RayAutoCompleteDropDownList";n[n.RayAssignControl=4]="RayAssignControl";n[n.RayCheckBox=5]="RayCheckBox";n[n.RayNumericTextBox=6]="RayNumericTextBox";n[n.RayDatePicker=7]="RayDatePicker";n[n.RayGrid=8]="RayGrid";n[n.RayNestedLink=9]="RayNestedLink";n[n.RayRadioButtonList=10]="RayRadioButtonList";n[n.RayCheckBoxList=11]="RayCheckBoxList";n[n.RaySearchPanel=12]="RaySearchPanel";n[n.RayFileAttachment=13]="RayFileAttachment";n[n.RayUserSignature=14]="RayUserSignature";n[n.RayTime=15]="RayTime";n[n.RayButton=16]="RayButton";n[n.RayTabControl=17]="RayTabControl";n[n.RayImageViewer=18]="RayImageViewer";n[n.RayImageControl=19]="RayImageControl";n[n.RayPayment=20]="RayPayment";n[n.RayChart=21]="RayChart";n[n.RayGauge=22]="RayGauge";n[n.RayTree=23]="RayTree";n[n.RayGanttChart=24]="RayGanttChart";n[n.RayUserPicture=25]="RayUserPicture";n[n.RayGenericGrid=26]="RayGenericGrid";n[n.RayRichTextBox=27]="RayRichTextBox";n[n.RayMap=28]="RayMap";n[n.RayRectangle=29]="RayRectangle";n[n.RayTabPage=30]="RayTabPage";n[n.RayLine=31]="RayLine";n[n.RayKPI=32]="RayKPI";n[n.ArpgControl=33]="ArpgControl";n[n.RayState=34]="RayState";n[n.RayClientChart=35]="RayClientChart";n[n.RayDynamicImage=36]="RayDynamicImage";n[n.RayHelp=37]="RayHelp";n[n.RayAdvancedGantt=38]="RayAdvancedGantt";n[n.Row=39]="Row";n[n.Column=40]="Column";n[n.RayComment=41]="RayComment";n[n.RayDateTimePicker=42]="RayDateTimePicker";n[n.RayCanvasPanel=43]="RayCanvasPanel";n[n.None=44]="None"}(r=t.ControlTypeEnum||(t.ControlTypeEnum={}))});define("Helpers/LangHelper",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(n){this.defaultCulture=n}return n.prototype.T=function(){return null},n}();t.default=i});var BaseControl=function(){function n(n){this.Properties=n;this.Controls=[]}return n.prototype.HtmlRender=function(){return this.Template},n}(),Row=function(n){function t(t){var i=n.call(this,t)||this;return i.Template="<div class='row'>"+t.ServerId+"<\/div>",i}return __extends(t,n),t}(BaseControl),Column=function(n){function t(t){var i=n.call(this,t)||this;return i.Template="<div class='col-lg-"+t.Width+"'>"+t.ServerId+"<\/div>",i}return __extends(t,n),t}(BaseControl),TreeTest=function(){function n(){}return n.TraverseTree=function(t){for(var i,r,f=[],u=0,e=t;u<e.length;u++)i=e[u],n.listItems[i.Properties.ServerId]=i,r={Properties:i.Properties,Controls:n.TraverseTree(i.Controls)},f.push(r),n.listItems[r.Properties.ServerId]=r;return f},n}();TreeTest.listItems={};var ControlTree=function(){function n(){this._controlList={};this._controlsTree=[];this._controlList={};this._controlsTree=[]}return n.prototype.Controls=function(){return this._controlsTree},n.prototype.AddControl=function(n,t){t==null?this._controlsTree.push(n):this._controlList[t.Properties.ServerId].Controls.push(n);this._controlList[n.Properties.ServerId]=n},n.prototype.AddControlWithParentId=function(n,t){typeof t=="undefined"?this.AddControl(n,null):this.AddControl(n,this._controlList[t])},n.prototype.DeleteControlById=function(n){this._controlList[n].Controls.length==0&&delete this._controlList[n]},n}(),TreeNode=function(){function n(n,t){this.Id=n;this.ParentPath=t}return n}(),Tree=function(){function n(){this.items={}}return n.prototype.generateRootPath=function(n){return n===null?"/":n.indexOf("/")>0?n:this.items[n].ParentPath+"/"+n},n.prototype.add=function(n,t){t=this.generateRootPath(t);this.items[n]=new TreeNode(n,t)},n}();